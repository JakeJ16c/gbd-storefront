<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>My Account â€“ Golden By Daisy</title>
  <link rel="icon" href="/favicon_circle.ico" type="image/x-icon" />
  
  <!-- ========== Fonts, Icons & Styling ========== -->
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link rel="stylesheet" href="/styles/styles.css">
  <link rel="stylesheet" href="/styles/responsive.css">
  
  <style>  
.hidden {
  display: none;
}

.logout-container {
  width: 100%;
  display: flex;
  justify-content: center;
}

.logout-btn {
  position: relative;
  left: auto;
  margin: 0 auto;
  display: block;
  max-width: 300px;
  width: 100%;
}

#address-results {
  position: absolute;
  z-index: 999;
  width: 100%;
  background: #fff;
  border: 1px solid #ccc;
  max-height: 200px;
  overflow-y: auto;
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  margin-top: 4px;
}

.address-option {
  padding: 10px 14px;
  cursor: pointer;
  font-size: 0.9rem;
  transition: background 0.2s ease;
}

.address-option:hover {
  background: #f0f0f0;
}
    
/* ========== Account Panel ========== */
@media (max-width: 480px) {
  .account-container {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    padding: 0.5rem;
  }

  .form-container {
    width: 100%;
    padding: 0.6rem 0.75rem;
    border-radius: 8px;
    background: #fff;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
  }

  .form-container h3 {
    font-size: 0.95rem;
    margin-bottom: 0.5rem;
    gap: 0.3rem;
  }

  .form-container label {
    font-size: 0.8rem;
    margin-bottom: 0.1rem;
  }

  .form-container input {
    width: 100%;
    font-size: 0.85rem;
    padding: 0.45rem 0.6rem;
    margin-bottom: 0.6rem;
    border-radius: 5px;
  }

  .account-actions {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .account-actions button {
    width: 100%;
    padding: 0.6rem;
    font-size: 0.9rem;
  }

  #user-orders p,
  #user-orders li {
    font-size: 0.85rem;
    line-height: 1.4;
  }
}

.account-container {
  display: flex;
  flex-direction: column; /* Changed to column to ensure logout is below */
  align-items: center;
  gap: 2rem;
  padding: 2rem 1rem;
}

.account-cards-container {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 2rem;
  width: 100%;
}

/* Reuse the same card base as your form */
.form-container {
  background: white;
  border-radius: 10px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
  padding: 1.5rem;
  flex: 1 1 400px;
  max-width: 400px;
  box-sizing: border-box;
}

.form-container h3 {
  display: flex;
  align-items: center;
  font-size: 1.25rem;
  margin-bottom: 1rem;
  color: var(--electric-blue);
}
.form-container h3 i {
  margin-right: 0.5rem;
}

/* Labels above inputs */
.form-container label {
  display: block;
  margin: 0.75rem 0 0.25rem;
  font-weight: 600;
  font-size: 0.95rem;
  color: #333;
}

/* Shared input styles */
.form-container input {
  width: 100%;
  padding: 0.75rem;
  border: 1px solid #ccc;
  border-radius: 6px;
  font-size: 1rem;
  box-sizing: border-box;
}

/* Group the address block for extra spacing */
.address-block {
  margin-bottom: 1.5rem;
}

/* Action buttons */
.account-actions .btn-submit,
.account-actions .btn-secondary {
  flex: 1;
  padding: 0.75rem;
  border: none;
  border-radius: 6px;
  font-size: 1rem;
  cursor: pointer;
}
.btn-submit {
  background: var(--electric-blue);
  color: white;
}

.logout-btn {
  justify-content: center;
  background-color: #204ECF;
  color: white;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  text-align: center;
  cursor: pointer;
  transition: background-color 0.3s ease;
  padding: 0.75rem 1.5rem;
  width: 100%;
}

.logout-btn:hover {
  background-color: #163aad;
}

.logout-container {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  max-width: 300px;
}

/* Loyalty Box Style */
.loyalty-box {
  width: 90%;
  background: #fff6f9;
  border: 2px dashed var(--electric-blue);
  color: #444;
  padding: 1.25rem 1.5rem;
  border-radius: 10px;
  text-align: center;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.loyalty-box h3 {
  font-size: 1.2rem;
  color: var(--electric-blue);
  margin-bottom: 0.5rem;
}

.loyalty-box i {
  margin-right: 0.5rem;
  color: var(--electric-blue);
}

.toggle-label {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 1rem 0;
  font-weight: 600;
  font-size: 0.95rem;
}

.switch {
  position: relative;
  display: inline-block;
  width: 46px;
  height: 24px;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  border-radius: 24px;
  transition: 0.3s;
}

.slider::before {
  position: absolute;
  content: "";
  height: 18px;
  width: 18px;
  left: 3px;
  bottom: 3px;
  background-color: white;
  border-radius: 50%;
  transition: 0.3s;
}

input:checked + .slider {
  background-color: var(--electric-blue);
}

input:checked + .slider::before {
  transform: translateX(22px);
}

#address-list {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  margin-top: 1rem;
}

.address-card {
  background: #fff;
  border-radius: 10px;
  padding: 12px 16px;
  margin-bottom: 12px;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05);
  font-size: 14px;
}

.address-header {
  margin-bottom: 8px;
}

.address-line {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.default-badge {
  background-color: #333;
  color: white;
  font-size: 11px;
  padding: 2px 6px;
  border-radius: 20px;
}

.address-details {
  color: #444;
  font-size: 13px;
  line-height: 1.3;
}

.address-actions {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 10px;
}

.address-actions button {
  background: #f2f2f2;
  border: none;
  padding: 5px 8px;
  border-radius: 6px;
  font-size: 13px;
  color: #444;
  cursor: pointer;
  transition: background 0.2s ease;
}

.address-actions .edit {
  background-color: #eaeaea;
}

.address-actions .delete {
  background-color: #ffe5e5;
  color: #a50000;
}

.address-actions .set-default {
  background-color: #e3f1ff;
  color: #004d99;
}

.address-actions button:hover {
  opacity: 0.85;
}

.modal {
  display: none;
  position: fixed;
  top: 0; left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0,0,0,0.4);
  z-index: 9999;
  justify-content: center;
  align-items: center;
}

.modal.active {
  display: flex;
}

.modal.hidden {
  display: none !important;
}

#addressModal input[type="text"] {
  width: 100%;
  padding: 10px 12px;
  margin-bottom: 12px;
  border: 1.5px solid #D7CDEB;
  border-radius: 6px;
  transition: border-color 0.3s ease;
}

#addressModal input[type="text"]:focus {
  border-color: #7C6BB1;
  outline: none;
}

#addressModal label {
  font-weight: 500;
  margin-bottom: 4px;
  display: block;
}

#addressModal button[type="submit"] {
  margin-top: 10px;
  padding: 12px;
}

.modal-content {
  background: white;
  padding: 2rem;
  border-radius: 10px;
  width: 90%;
  max-width: 400px;
  position: relative;
  margin: 0 1rem;
}

.modal-content h3 {
  margin-top: 0;
}

.modal-close {
  position: absolute;
  top: 10px;
  right: 14px;
  background: none;
  border: none;
  font-size: 1.5rem;
  color: #444;
  cursor: pointer;
}

.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.icon-button {
  background: none;
  border: none;
  font-size: 1rem;
  cursor: pointer;
  color: #555;
  padding: 0.25rem 0.5rem;
  transition: color 0.2s ease;
  width: unset;
  margin-top: 0;
}

.icon-button:hover {
  background-color: unset;
}

.edit-actions {
  margin-top: 10px;
  display: flex;
  gap: 10px;
}

.edit-actions.hidden {
  display: none;
}

.suggestion-list {
  list-style: none;
  margin: 0;
  padding: 0;
  max-height: 160px;
  overflow-y: auto;
  border: 1px solid #ccc;
  border-radius: 4px;
  position: absolute;
  background: white;
  z-index: 1000;
  width: 100%;
}

.suggestion-list li {
  padding: 10px;
  cursor: pointer;
}

.suggestion-list li:hover {
  background-color: #f0f0f0;
}

#address-suggestions {
  list-style: none;
  padding: 0;
  margin: 0 0 1rem;
  background: #fff;
  border-radius: 6px;
  max-height: 200px;
  overflow-y: auto;
  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

#address-suggestions li {
  padding: 10px 12px;
  cursor: pointer;
}

#address-suggestions li:hover {
  background-color: #f1f1f1;
}

.form-control {
    box-sizing: border-box;
    font-size: 1rem;
    width: 100%;
    padding: 10px 12px;
    margin-bottom: 12px;
    border: 1.5px solid #D7CDEB;
    border-radius: 6px;
    transition: border-color 0.3s ease;
}
  </style>
</head>
<body>

  <!-- Top Announcement -->
  <div id="announcement-bar-container"></div>

  <!-- Header Section -->
  <header class="site-header">
    <div class="header-left">
      <a href="#"><i class="fab fa-instagram"></i></a>
      <a href="#"><i class="fab fa-facebook-f"></i></a>
      <a href="#"><i class="fas fa-phone"></i></a>
      <a href="#"><i class="fas fa-envelope"></i></a>
    </div>
    <h1 class="header-title"><a href="index.html" class="logo-link">You're So Golden</a></h1>
    <div class="header-right">
      <a href="#cart" class="cart-icon"><i class="fas fa-basket-shopping"></i></a>
      <a id="auth-icon" class="login-icon" href="#" title="User Menu">
        <i id="auth-icon-symbol" class="fas fa-user"></i>
      </a>
</div>

    <!-- Basket Dropdown -->
    <div id="basket-preview"></div>
    
    <!-- ðŸ‘¤ User Dropdown (dynamic) -->
    <div id="logout-dropdown" class="hidden" style="position:absolute; right:1rem; top:4.2rem; background:white; border:1px solid #ccc; padding:1rem; border-radius:8px; z-index:1000; box-shadow:0 4px 12px rgba(0,0,0,0.1); min-width:160px;">
      <div id="user-dropdown-content">
        <!-- Content will be filled in by JS -->
  </div>
</div>
  </header>

  <!-- Navigation Bar -->
  <div id="navigation-bar-container"></div>

  <!-- ========== Main Account Area ========== -->
  <main>
    <div class="account-container">

      <!-- ðŸŽ Loyalty & Rewards Placeholder -->
      <div class="loyalty-box">
        <h3><i class="fas fa-gift"></i> Loyalty & Rewards</h3>
        <p>Coming soon! Youâ€™ll soon earn points every time you shop ðŸ’«</p>
      </div>

      <!-- Cards Container -->
      <div class="account-cards-container">
        <!-- ðŸ‘¤ Account Info Form -->
        <div class="form-container">
          <form id="profileForm">
          <div class="section-header">
            <h3><i class="fa-solid fa-user"></i> Account Info</h3>
            <button type="button" id="editAccountBtn" class="icon-button" title="Edit Info">
              <i class="fa-solid fa-pen"></i>
            </button>
          </div>
            
          <!-- View Mode -->
          <div id="summary-block" style="line-height: 1.8;">
            <p><strong>Name:</strong> <span id="summary-name">Loading...</span></p>
            <p><strong>Phone:</strong> <span id="summary-phone">Loading...</span></p>
            <p><strong>Birthday:</strong> <span id="summary-birthday">Not set</span></p>

            <div class="section-header">
              <h3><i class="fa-solid fa-house"></i> Saved Addresses</h3>
              <button type="button" id="addAddressBtn" class="icon-button" title="Add new address">
                <i class="fa-solid fa-plus"></i>
              </button>
            </div>
            
            <div id="address-list">
              <!-- Address cards will be populated by JS -->
            </div>
            
          </div>
          
          <!-- Edit Mode -->
          <div id="form-block" class="hidden">
            <label for="firstName">First Name</label>
            <input id="first-name" type="text" placeholder="Please enter your First Name" />
          
            <label for="lastName">Last Name</label>
            <input id="last-name" type="text" placeholder="Enter your Last Name" />

            <label for="phone">Phone Number</label>
            <input id="phone" type="text" placeholder="e.g. 07123456789">

            <label for="birthday">Birthday <span style="font-weight:normal;">(optional)</span></label>
            <input id="birthday" type="date" placeholder="Select your birthday" />
          
            <div id="edit-actions" class="edit-actions hidden">
              <button id="saveBtn" class="btn-save">Save</button>
              <button id="cancelBtn" class="btn-cancel">Cancel</button>
            </div>
          </div>
          </form>
        </div>

        <!-- ðŸ“¦ My Settings -->
        <div class="form-container">
          <h3><i class="fas fa-gear"></i> My Settings</h3>
        
          <form id="passwordForm">
            <label for="current-password">Current Password</label>
            <input id="current-password" type="password" placeholder="Enter current password" required />
        
            <label for="new-password">New Password</label>
            <input id="new-password" type="password" placeholder="Enter new password" required />
        
            <label for="confirm-password">Confirm New Password</label>
            <input id="confirm-password" type="password" placeholder="Re-enter new password" required />
        
            <div class="account-actions">
              <button type="submit" class="btn-submit">Change Password</button>
            </div>
          </form>

            <!-- Notification & Newsletter Toggles -->
            <div class="toggle-section" style="margin-bottom: 1.5rem;">
              <label class="toggle-label">
                <span><i class="fas fa-bell"></i> Email & Push Notifications</span>
                <label class="switch">
                  <input type="checkbox" id="notifications-toggle">
                  <span class="slider round"></span>
                </label>
              </label>
            
              <label class="toggle-label">
                <span><i class="fas fa-envelope-open-text"></i> Subscribe to Newsletter</span>
                <label class="switch">
                  <input type="checkbox" id="newsletter-toggle">
                  <span class="slider round"></span>
                </label>
              </label>
            </div>
        </div>
        
      </div>
      
      <!-- Logout Button -->
      <div class="logout-container">
        <button id="logoutBtn" class="logout-btn">Log Out</button>
      </div>
    </div>

    <!-- Add Address Modal -->
    <div id="addressModal" class="modal">
      <div class="modal-content">
        <button id="closeAddressModal" class="modal-close">&times;</button>
        <h3>Add New Address</h3>

        <form id="addAddressForm">
        
        <input type="text" id="address-search" placeholder="Start typing address..." autocomplete="off" />
        <ul id="address-suggestions" class="form-control"></ul>
        
          <select class="form-control" id="country-select">
            <option value="">Select a country</option>
          </select>
          
          <label for="modal-house-number">House Number</label>
          <input id="modal-house-number" type="text" required />
    
          <label for="modal-street">Street</label>
          <input id="modal-street" type="text" required />
    
          <label for="modal-city">City</label>
          <input id="modal-city" type="text" required />
    
          <label for="modal-county">County</label>
          <input id="modal-county" type="text" required />
    
          <label for="modal-postcode">Postcode</label>
          <input id="modal-postcode" type="text" required />

          <div class="form-check" style="margin-top: 10px; display: flex; align-items: center; gap: 8px;">
            <input type="checkbox" id="default-address" class="form-check-input" style="width: unset;" />
            <label for="default-address" class="form-check-label" style="margin: unset;">Set as default address</label>
          </div>
    
          <button type="submit" class="btn-submit" style="margin-top: 1rem;">Save Address</button>
        </form>
      </div>
    </div>
    
  </main>

  <!-- Loading Transition -->
  <script src="/loading.js" defer></script>
  
  <!-- Footer -->
  <div id="footer-container"></div>
  
  <!-- Load Page Layout -->
  <script src="/layout/load-layout.js" type="module"></script>
  
  <!-- 'User' Toggle Btn -->
  <script type="module" src="/user-toggle.js"></script>

  <!-- Basket Dropdown Btn -->
  <script type="module" src="/basket-dropdown.js"></script>

  <!-- My Account Section -->
  <script type="module" src="account.js"></script>

  <!-- Admin Auth -->
<!-- Maintenance Page If Toggled In Dashboard -->
  <script type="module" src="/maintenance.js"></script>
  
</body>
</html>
